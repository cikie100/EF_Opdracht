// <auto-generated />
using System;
using Library;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

namespace Library.Migrations
{
    [DbContext(typeof(VoetbalContext))]
    [Migration("20200430150412_addRelations")]
    partial class addRelations
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "3.1.3")
                .HasAnnotation("Relational:MaxIdentifierLength", 128)
                .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

            modelBuilder.Entity("Library.Model.SpelerTeam", b =>
                {
                    b.Property<int>("spelerid")
                        .HasColumnType("int");

                    b.Property<int>("stamnummer")
                        .HasColumnType("int");

                    b.Property<int?>("teamstamnummer")
                        .HasColumnType("int");

                    b.HasKey("spelerid", "stamnummer");

                    b.HasIndex("teamstamnummer");

                    b.ToTable("SpelerTeam");
                });

            modelBuilder.Entity("Library.Objects.Speler", b =>
                {
                    b.Property<int>("spelerid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<string>("naam")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("rugnummer")
                        .HasColumnType("int");

                    b.Property<int>("teamId")
                        .HasColumnType("int");

                    b.Property<int>("waarde")
                        .HasColumnType("int");

                    b.HasKey("spelerid");

                    b.HasIndex("teamId");

                    b.ToTable("spelers");
                });

            modelBuilder.Entity("Library.Objects.Team", b =>
                {
                    b.Property<int>("stamnummer")
                        .HasColumnType("int");

                    b.Property<string>("naamClub")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("naamTrainer")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("stamnummer");

                    b.ToTable("teams");
                });

            modelBuilder.Entity("Library.Objects.Transfer", b =>
                {
                    b.Property<int>("transferid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasAnnotation("SqlServer:ValueGenerationStrategy", SqlServerValueGenerationStrategy.IdentityColumn);

                    b.Property<int>("nieuwe_teamID")
                        .HasColumnType("int");

                    b.Property<int?>("oude_teamstamnummer")
                        .HasColumnType("int");

                    b.Property<int>("spelerID")
                        .HasColumnType("int");

                    b.Property<int>("transferPrijs")
                        .HasColumnType("int");

                    b.HasKey("transferid");

                    b.HasIndex("nieuwe_teamID");

                    b.HasIndex("oude_teamstamnummer");

                    b.HasIndex("spelerID");

                    b.ToTable("transfers");
                });

            modelBuilder.Entity("Library.Model.SpelerTeam", b =>
                {
                    b.HasOne("Library.Objects.Speler", "speler")
                        .WithMany("TeamsLink")
                        .HasForeignKey("spelerid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Library.Objects.Team", "team")
                        .WithMany("spelersLink")
                        .HasForeignKey("teamstamnummer");
                });

            modelBuilder.Entity("Library.Objects.Speler", b =>
                {
                    b.HasOne("Library.Objects.Team", "team")
                        .WithMany("spelers")
                        .HasForeignKey("teamId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Library.Objects.Transfer", b =>
                {
                    b.HasOne("Library.Objects.Team", "nieuwe_team")
                        .WithMany()
                        .HasForeignKey("nieuwe_teamID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Library.Objects.Team", "oude_team")
                        .WithMany()
                        .HasForeignKey("oude_teamstamnummer");

                    b.HasOne("Library.Objects.Speler", "speler")
                        .WithMany()
                        .HasForeignKey("spelerID")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });
#pragma warning restore 612, 618
        }
    }
}
